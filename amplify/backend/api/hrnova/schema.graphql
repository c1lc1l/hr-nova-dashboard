type Employee
  @model
  @auth(rules: [
    { allow: groups, groups: ["SysAdmin", "HRAdmin"], operations: [create, read, update, delete] }
    { allow: groups, groups: ["Manager"], operations: [read] }
    { allow: owner, ownerField: "id", operations: [read] }
  ]) {
  id: ID!
  firstName: String!
  lastName: String!
  email: AWSEmail!
  role: String!
  city: String
  joiningDate: AWSDate
  phone: String
  status: String!
  avatar: AWSURL
}

type LeaveRequest
  @model
  @auth(
    rules: [
      # Employees: can create/read/update their own requests
      { allow: owner, ownerField: "employeeId", operations: [create, read, update] }
      # HR / SysAdmin: full visibility and control
      { allow: groups, groups: ["HRAdmin", "SysAdmin"], operations: [read, update, delete] }
      # Managers: can read/update for approvals (global managers, simple model)
      { allow: groups, groups: ["Manager"], operations: [read, update] }
    ]
  ) {
  id: ID!
  employeeId: ID!
  employeeName: String!
  employeeAvatar: AWSURL
  type: String!
  fromDate: AWSDate!
  toDate: AWSDate!
  days: Int!
  status: String!
  reason: String
  createdAt: AWSDateTime!
  reviewedBy: String
  reviewedAt: AWSDateTime
}

type LeaveBalance
  @model
  @auth(
    rules: [
      { allow: owner, ownerField: "employeeId", operations: [read] }
      { allow: groups, groups: ["HRAdmin", "SysAdmin"], operations: [read, update, delete] }
    ]
  ) {
  id: ID!
  employeeId: ID!
  annual: Int!
  sick: Int!
  personal: Int!
  used: Int!
}
